<article><div class="l"><div class="gg gh gi gj gk gl gm ce gn ch l"></div><div class="l"><header class="pw-post-byline-header go gp gq gr gs gt gu gv gw gx l"><div class="o gy u"><div class="o"><div class="fj l"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://taggartbonham.medium.com/?source=post_page-----a214d823629d--------------------------------" rel="noopener follow"><div class="l do"><img alt="Taggart Bonham" class="l ch fl gz ha fp" height="48" loading="lazy" src="https://miro.medium.com/fit/c/96/96/1*3muSOpFlGHoOaAhvaoBrzQ.png" width="48"/><div class="fk fl l gz ha fo aq"></div></div></a></div><div class="l"><div class="pw-author bm b dm dn ga"><div class="hb o hc"><div><div aria-hidden="false" class="ci"><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://taggartbonham.medium.com/?source=post_page-----a214d823629d--------------------------------" rel="noopener follow">Taggart Bonham</a></div></div><div class="hd he hf hg hh d"><span><a class="bm b hi bo hj hk hl hm hn ho hp bd bz hq hr hs cd cf cg ch ci cj" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2F2e2b1936481f&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-for-product-managers-a214d823629d&amp;user=Taggart+Bonham&amp;userId=2e2b1936481f&amp;source=post_page-2e2b1936481f----a214d823629d---------------------follow_byline-----------" rel="noopener follow">Follow</a></span></div></div></div><div class="o ao ht"><p class="pw-published-date bm b bn bo cn"><span>Jan 13, 2021</span></p><div aria-hidden="true" class="hu ci"><span aria-hidden="true" class="l"><span class="bm b bn bo cn">·</span></span></div><div class="pw-reading-time bm b bn bo cn">15 min read</div></div></div></div><div class="o ao"><div class="h k hv hw hx"><div class="hy l fr"><div><div aria-hidden="false" class="ci"><button aria-label="Share on twitter" class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M20 5.34c-.67.41-1.4.7-2.18.87a3.45 3.45 0 0 0-5.02-.1 3.49 3.49 0 0 0-1.02 2.47c0 .28.03.54.07.8a9.91 9.91 0 0 1-7.17-3.66 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44V10c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06a3.5 3.5 0 0 0 3.24 2.43 7.34 7.34 0 0 1-4.36 1.49l-.81-.05a9.96 9.96 0 0 0 5.36 1.56c6.4 0 9.91-5.32 9.9-9.9v-.5c.69-.49 1.28-1.1 1.74-1.81-.63.3-1.3.48-2 .56A3.33 3.33 0 0 0 20 5.33" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hy l fr"><div><div aria-hidden="false" class="ci"><button aria-label="Share on facebook" class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M19.75 12.04c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-5.9 12.84 7.77 7.77 0 0 0 4.69 2.63v-5.49h-1.9v-2.2h1.9v-1.62c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="hy l fr"><div><div aria-hidden="false" class="ci"><button aria-label="Share on linkedin" class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M19.75 5.39v13.22a1.14 1.14 0 0 1-1.14 1.14H5.39a1.14 1.14 0 0 1-1.14-1.14V5.39a1.14 1.14 0 0 1 1.14-1.14h13.22a1.14 1.14 0 0 1 1.14 1.14zM8.81 10.18H6.53v7.3H8.8v-7.3zM9 7.67a1.31 1.31 0 0 0-1.3-1.32h-.04a1.32 1.32 0 0 0 0 2.64A1.31 1.31 0 0 0 9 7.71v-.04zm8.46 5.37c0-2.2-1.4-3.05-2.78-3.05a2.6 2.6 0 0 0-2.3 1.18h-.07v-1h-2.14v7.3h2.28V13.6a1.51 1.51 0 0 1 1.36-1.63h.09c.72 0 1.26.45 1.26 1.6v3.91h2.28l.02-4.43z" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="l fr"><div><div aria-hidden="false" class="ci"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path clip-rule="evenodd" d="M3.57 14.67c0-.57.13-1.11.38-1.6l.02-.02v-.02l.02-.02c0-.02 0-.02.02-.02.12-.26.3-.52.57-.8L7.78 9v-.02l.01-.02c.44-.41.91-.7 1.44-.85a4.87 4.87 0 0 0-1.19 2.36A5.04 5.04 0 0 0 8 11.6L6.04 13.6c-.19.19-.32.4-.38.65a2 2 0 0 0 0 .9c.08.2.2.4.38.57l1.29 1.31c.27.28.62.42 1.03.42.42 0 .78-.14 1.06-.42l1.23-1.25.79-.78 1.15-1.16c.08-.09.19-.22.28-.4.1-.2.15-.42.15-.67 0-.16-.02-.3-.06-.45l-.02-.02v-.02l-.07-.14s0-.03-.04-.06l-.06-.13-.02-.02c0-.02 0-.03-.02-.05a.6.6 0 0 0-.14-.16l-.48-.5c0-.04.02-.1.04-.15l.06-.12 1.17-1.14.09-.09.56.57c.02.04.08.1.16.18l.05.04.03.06.04.05.03.04.04.06.1.14.02.02c0 .02.01.03.03.04l.1.2v.02c.1.16.2.38.3.68a1 1 0 0 1 .04.25 3.2 3.2 0 0 1 .02 1.33 3.49 3.49 0 0 1-.95 1.87l-.66.67-.97.97-1.56 1.57a3.4 3.4 0 0 1-2.47 1.02c-.97 0-1.8-.34-2.49-1.03l-1.3-1.3a3.55 3.55 0 0 1-1-2.51v-.01h-.02v.02zm5.39-3.43c0-.19.02-.4.07-.63.13-.74.44-1.37.95-1.87l.66-.67.97-.98 1.56-1.56c.68-.69 1.5-1.03 2.47-1.03.97 0 1.8.34 2.48 1.02l1.3 1.32a3.48 3.48 0 0 1 1 2.48c0 .58-.11 1.11-.37 1.6l-.02.02v.02l-.02.04c-.14.27-.35.54-.6.8L16.23 15l-.01.02-.01.02c-.44.42-.92.7-1.43.83a4.55 4.55 0 0 0 1.23-3.52L18 10.38c.18-.21.3-.42.35-.65a2.03 2.03 0 0 0-.01-.9 1.96 1.96 0 0 0-.36-.58l-1.3-1.3a1.49 1.49 0 0 0-1.06-.42c-.42 0-.77.14-1.06.4l-1.2 1.27-.8.8-1.16 1.15c-.08.08-.18.21-.29.4a1.66 1.66 0 0 0-.08 1.12l.02.03v.02l.06.14s.01.03.05.06l.06.13.02.02.01.02.01.02c.05.08.1.13.14.16l.47.5c0 .04-.02.09-.04.15l-.06.12-1.15 1.15-.1.08-.56-.56a2.3 2.3 0 0 0-.18-.19c-.02-.01-.02-.03-.02-.04l-.02-.02a.37.37 0 0 1-.1-.12c-.03-.03-.05-.04-.05-.06l-.1-.15-.02-.02-.02-.04-.08-.17v-.02a5.1 5.1 0 0 1-.28-.69 1.03 1.03 0 0 1-.04-.26c-.06-.23-.1-.46-.1-.7v.01z" fill="#A8A8A8" fill-rule="evenodd"></path></svg></span></button></div></div></div><div class="ib o ao"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa214d823629d&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-for-product-managers-a214d823629d&amp;source=--------------------------bookmark_header-----------" rel="noopener follow"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="au de aw ax ay az ba hz bc id ie if ig"><svg aria-label="Add to list bookmark button" class="ic" fill="none" height="25" viewbox="0 0 25 25" width="25"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="#292929"></path></svg></button></a></span></div></div><div class="ck ih"><div><div aria-hidden="false" class="ci"></div></div></div></div></div><div class="ii ij ik j i d"><div class="fj l"><span><a class="au av aw ax ay az ba bb bc bd be bf bg bh bi" href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2Fa214d823629d&amp;operation=register&amp;redirect=https%3A%2F%2Ftowardsdatascience.com%2Fml-for-product-managers-a214d823629d&amp;source=--------------------------bookmark_header-----------" rel="noopener follow"><button aria-controls="addToCatalogBookmarkButton" aria-expanded="false" aria-label="Add to list bookmark button" class="au de aw il ay az ba im bc id cd o ao in io ig"><svg aria-label="Add to list bookmark button" class="ic" fill="none" height="25" viewbox="0 0 25 25" width="25"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="#292929"></path></svg><p class="bm b bn bo cn">Save</p></button></a></span></div><div class="ip l fr"><div><div aria-hidden="false" class="ci"><button aria-label="Share on twitter" class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M20 5.34c-.67.41-1.4.7-2.18.87a3.45 3.45 0 0 0-5.02-.1 3.49 3.49 0 0 0-1.02 2.47c0 .28.03.54.07.8a9.91 9.91 0 0 1-7.17-3.66 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44V10c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06a3.5 3.5 0 0 0 3.24 2.43 7.34 7.34 0 0 1-4.36 1.49l-.81-.05a9.96 9.96 0 0 0 5.36 1.56c6.4 0 9.91-5.32 9.9-9.9v-.5c.69-.49 1.28-1.1 1.74-1.81-.63.3-1.3.48-2 .56A3.33 3.33 0 0 0 20 5.33" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="ip l fr"><div><div aria-hidden="false" class="ci"><button aria-label="Share on facebook" class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M19.75 12.04c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-5.9 12.84 7.77 7.77 0 0 0 4.69 2.63v-5.49h-1.9v-2.2h1.9v-1.62c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="ip l fr"><div><div aria-hidden="false" class="ci"><button aria-label="Share on linkedin" class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M19.75 5.39v13.22a1.14 1.14 0 0 1-1.14 1.14H5.39a1.14 1.14 0 0 1-1.14-1.14V5.39a1.14 1.14 0 0 1 1.14-1.14h13.22a1.14 1.14 0 0 1 1.14 1.14zM8.81 10.18H6.53v7.3H8.8v-7.3zM9 7.67a1.31 1.31 0 0 0-1.3-1.32h-.04a1.32 1.32 0 0 0 0 2.64A1.31 1.31 0 0 0 9 7.71v-.04zm8.46 5.37c0-2.2-1.4-3.05-2.78-3.05a2.6 2.6 0 0 0-2.3 1.18h-.07v-1h-2.14v7.3h2.28V13.6a1.51 1.51 0 0 1 1.36-1.63h.09c.72 0 1.26.45 1.26 1.6v3.91h2.28l.02-4.43z" fill="#A8A8A8"></path></svg></span></button></div></div></div><div class="l fr"><div><div aria-hidden="false" class="ci"><button class="au av aw ax ay az ba bb bc bd be bf bg bh bi"><span class="ci hz dw ia"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path clip-rule="evenodd" d="M3.57 14.67c0-.57.13-1.11.38-1.6l.02-.02v-.02l.02-.02c0-.02 0-.02.02-.02.12-.26.3-.52.57-.8L7.78 9v-.02l.01-.02c.44-.41.91-.7 1.44-.85a4.87 4.87 0 0 0-1.19 2.36A5.04 5.04 0 0 0 8 11.6L6.04 13.6c-.19.19-.32.4-.38.65a2 2 0 0 0 0 .9c.08.2.2.4.38.57l1.29 1.31c.27.28.62.42 1.03.42.42 0 .78-.14 1.06-.42l1.23-1.25.79-.78 1.15-1.16c.08-.09.19-.22.28-.4.1-.2.15-.42.15-.67 0-.16-.02-.3-.06-.45l-.02-.02v-.02l-.07-.14s0-.03-.04-.06l-.06-.13-.02-.02c0-.02 0-.03-.02-.05a.6.6 0 0 0-.14-.16l-.48-.5c0-.04.02-.1.04-.15l.06-.12 1.17-1.14.09-.09.56.57c.02.04.08.1.16.18l.05.04.03.06.04.05.03.04.04.06.1.14.02.02c0 .02.01.03.03.04l.1.2v.02c.1.16.2.38.3.68a1 1 0 0 1 .04.25 3.2 3.2 0 0 1 .02 1.33 3.49 3.49 0 0 1-.95 1.87l-.66.67-.97.97-1.56 1.57a3.4 3.4 0 0 1-2.47 1.02c-.97 0-1.8-.34-2.49-1.03l-1.3-1.3a3.55 3.55 0 0 1-1-2.51v-.01h-.02v.02zm5.39-3.43c0-.19.02-.4.07-.63.13-.74.44-1.37.95-1.87l.66-.67.97-.98 1.56-1.56c.68-.69 1.5-1.03 2.47-1.03.97 0 1.8.34 2.48 1.02l1.3 1.32a3.48 3.48 0 0 1 1 2.48c0 .58-.11 1.11-.37 1.6l-.02.02v.02l-.02.04c-.14.27-.35.54-.6.8L16.23 15l-.01.02-.01.02c-.44.42-.92.7-1.43.83a4.55 4.55 0 0 0 1.23-3.52L18 10.38c.18-.21.3-.42.35-.65a2.03 2.03 0 0 0-.01-.9 1.96 1.96 0 0 0-.36-.58l-1.3-1.3a1.49 1.49 0 0 0-1.06-.42c-.42 0-.77.14-1.06.4l-1.2 1.27-.8.8-1.16 1.15c-.08.08-.18.21-.29.4a1.66 1.66 0 0 0-.08 1.12l.02.03v.02l.06.14s.01.03.05.06l.06.13.02.02.01.02.01.02c.05.08.1.13.14.16l.47.5c0 .04-.02.09-.04.15l-.06.12-1.15 1.15-.1.08-.56-.56a2.3 2.3 0 0 0-.18-.19c-.02-.01-.02-.03-.02-.04l-.02-.02a.37.37 0 0 1-.1-.12c-.03-.03-.05-.04-.05-.06l-.1-.15-.02-.02-.02-.04-.08-.17v-.02a5.1 5.1 0 0 1-.28-.69 1.03 1.03 0 0 1-.04-.26c-.06-.23-.1-.46-.1-.7v.01z" fill="#A8A8A8" fill-rule="evenodd"></path></svg></span></button></div></div></div></div></header><span class="l"></span><section><div><div class="fo as iv iw ix iy"></div><div class="iz ja jb jc jd"><div class=""><h1 class="pw-post-title je jf jg bm jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc ga" id="608d">ML for Product Managers</h1></div><div class=""><h2 class="pw-subtitle-paragraph kd jf jg bm b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku cn" id="220a"><em class="kv">Five steps to ship your company’s next big thing.</em></h2></div><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm kw"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/0*wj0pvhK-e0oLvhvk 640w, https://miro.medium.com/max/720/0*wj0pvhK-e0oLvhvk 720w, https://miro.medium.com/max/750/0*wj0pvhK-e0oLvhvk 750w, https://miro.medium.com/max/786/0*wj0pvhK-e0oLvhvk 786w, https://miro.medium.com/max/828/0*wj0pvhK-e0oLvhvk 828w, https://miro.medium.com/max/1100/0*wj0pvhK-e0oLvhvk 1100w, https://miro.medium.com/max/1400/0*wj0pvhK-e0oLvhvk 1400w"/><img alt="" class="ce lg lh c" height="467" loading="eager" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Photo by <a class="au ll" href="https://unsplash.com/@charlesdeluvio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Charles Deluvio</a> on <a class="au ll" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="o dx lm ln ii lo" role="separator"><span class="lp fl ci lq lr ls"></span><span class="lp fl ci lq lr ls"></span><span class="lp fl ci lq lr"></span></div><div class="iz ja jb jc jd"><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="9647">So, you’re a PM and there’s been a lot of talk about how AI is revolutionizing the industry, how your company is data-driven, or how your product has a deep analytics focus. But what exactly does that mean? Without understanding how data-powered applications work, your PRD’s will be long on buzzwords and short on substance. We can talk ourselves in circles about the value of analytics, but without understanding how to productize machine learning, we’ll never actually ship.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="ae07">This article will walk you through the five steps of building and deploying machine learning models, using time-series anomaly detection to demonstrate a real-world example. The best part: this distilled approach will apply to any product or feature (talk about transfer learning!)</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="0fbb">At a high-level, these are the five steps to ship ML at scale.</p><ol class=""><li class="mp mq jg lv b lw lx lz ma mc mr mg ms mk mt mo mu mv mw mx ga" id="76ec"><strong class="lv jh">Determine the ML Approach</strong></li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo mu mv mw mx ga" id="e64e"><strong class="lv jh">Build the Pipeline</strong></li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo mu mv mw mx ga" id="a501"><strong class="lv jh">Feature Engineering</strong></li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo mu mv mw mx ga" id="77ab"><strong class="lv jh">Train your Model</strong></li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo mu mv mw mx ga" id="9c9f"><strong class="lv jh">Deploy</strong></li></ol><h1 class="nd ne jg bm nf ng nh ni nj nk nl nm nn km no kn np kp nq kq nr ks ns kt nt nu ga" id="4f6b"><strong class="ba">1. Determine ML Approach from the Product Goal</strong></h1><p class="pw-post-body-paragraph lt lu jg lv b lw nv kh ly lz nw kk mb mc nx me mf mg ny mi mj mk nz mm mn mo iz ga" id="49be">The product goal informs the technical approach. By first understanding our use case, we can explore how it fits into a ML paradigm.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="6f7f"><strong class="lv jh">Product Goal:</strong> Imagine your product is for an application owner, responsible for reporting on their app to the board. They just want to know how their app is performing and don’t have time to be overloaded with technical details. They’ve been frustrated by their app’s reliability and want real-time information, so they don’t get blindsided by outages.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="3185">From these customer conversations, we’ve uncovered the product goal: alert users if their app stops working.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="73d5"><strong class="lv jh">Sanity Checks: </strong>Before diving down the ML rabbit hole, first ask:</p><ol class=""><li class="mp mq jg lv b lw lx lz ma mc mr mg ms mk mt mo mu mv mw mx ga" id="bf35"><em class="oa">Are you really solving a valuable problem?</em></li></ol><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="c198">Start with the press release to determine if the project is worth the investment. Our reads: hundreds of man-hours and countless customer conversations saved by removing the necessity for manual monitoring of application performance. Ultimately, this anomaly detection will free people from deploying resources to actively monitor their apps. This seems valuable.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="b5ab">2<em class="oa">. Do you really need ML?</em></p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="c310">In many cases a heuristics-based approach can work better. For our example, this means creating a decision tree based on some combination of the HTTP response codes and response time thresholds to determine if an application is performing. A decision tree and manual thresholds would need to be made for every single metric — all services have their own definition of ‘normal’. Here, this rules-based approach won’t scale. To classify app performance at scale, we’ve confirmed that we need ML.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm ob"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*L2y6NaI1uElvGE1LEARE_w.jpeg 640w, https://miro.medium.com/max/720/1*L2y6NaI1uElvGE1LEARE_w.jpeg 720w, https://miro.medium.com/max/750/1*L2y6NaI1uElvGE1LEARE_w.jpeg 750w, https://miro.medium.com/max/786/1*L2y6NaI1uElvGE1LEARE_w.jpeg 786w, https://miro.medium.com/max/828/1*L2y6NaI1uElvGE1LEARE_w.jpeg 828w, https://miro.medium.com/max/1100/1*L2y6NaI1uElvGE1LEARE_w.jpeg 1100w, https://miro.medium.com/max/1400/1*L2y6NaI1uElvGE1LEARE_w.jpeg 1400w"/><img alt="" class="ce lg lh c" height="444" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Machine learning uses data to train a function (image by author)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="e8a0"><strong class="lv jh">ML Framing:</strong> Now that we’ve validated the idea, let’s frame the product goal in terms of machine learning. Machine learning uses data to learn a function. The historic application behavior that we’ve already collected (the data) trains our model to predict if our app behavior is normal or not (the function). We can then continuously feed performance data through this trained model to determine if our app is working or not in real-time.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="5778">Reformulating our product goal, we want to detect behavioral anomalies in our application using performance information.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="ffd6"><strong class="lv jh">Data Selection: </strong>Data powers machine learning. To choose a model and understand if our outcome is even possible, we need to understand the available data. Data can be broken into <a class="au ll" href="https://developers.google.com/machine-learning/crash-course/framing/ml-terminology" rel="noopener ugc nofollow" target="_blank">two categories</a> — features and labels. Labels are the output of a ML model, for us this is a Boolean result of normal or anomalous application behavior. Features are the other input variables responsible for this classification.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm oc"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 640w, https://miro.medium.com/max/720/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 720w, https://miro.medium.com/max/750/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 750w, https://miro.medium.com/max/786/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 786w, https://miro.medium.com/max/828/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 828w, https://miro.medium.com/max/1100/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 1100w, https://miro.medium.com/max/1400/1*K1h1_WBC_WAZ6whAz_-6AQ.jpeg 1400w"/><img alt="" class="ce lg lh c" height="342" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">A taxonomy of data (image by author)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="d437">Since our function requires app performance data, we can use timing information (HTTP response times), performance data (HTTP response codes) as features. This data is generated from a <a class="au ll" href="https://en.wikipedia.org/wiki/Synthetic_monitoring" rel="noopener ugc nofollow" target="_blank">synthetic monitoring system</a> — periodically pinging a specific web address and recording the response. Associated with this data is timing information (the timestamp from when the measurement was taken which can be used for seasonality). While our data contains these performance features, it does not contain any labels — no one has gone through for all past points and marked which are anomalous or not. The ‘label’ column in the picture does not exist for us, which limits the possible models we can use.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="f078"><strong class="lv jh">Model Selection: </strong>Different models are better suited to different tasks, all making different assumptions about the data. Before choosing a model, we must consider a number of factors that will impact deployment: data availability, latency, and ease of implementation.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="3266"><em class="oa">Data availability </em>means what data is available during training and prediction. The choice between the two main model types — supervised and unsupervised — depends on data availability. Whereas supervised models train on data containing features and labels, unsupervised models require just features. We have the performance metrics discussed above but no labels, which means we need to use an unsupervised approach.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="cc5c"><em class="oa">Latency </em>is the product requirement for prediction time. The two considerations here are stream or batch processing. Whereas stream processing models run instantly on the data, batch models run analytics for collected data at fixed intervals (allowing for methods with larger processing times). Merely showing users a marked-up graph with anomalies or making them dig around their metrics won’t reduce the need for operators’ eyes on screen. From the use case described, app owners want to minimize the time they have to spend staring at raw metrics. Our product requires a near-real time classification which points to stream processing.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="f926"><em class="oa">Ease of implementation </em>impacts how quickly we can develop a model. Training a complex, end-to-end pipeline is a delicate process. We must consider the performance-complexity tradeoff. While a more complicated model might give better results, it can also add significant amounts of development time. For implementation, we’ll start with an easy base-model that will enable quick development, iteration, and debugging.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="711e">Below is a model selection flowchart from <a class="au ll" href="https://scikit-learn.org/stable/tutorial/machine_learning_map/index.html" rel="noopener ugc nofollow" target="_blank">scikit-learn</a>, a leading python ML library. More information about different model types is available <a class="au ll" href="/all-machine-learning-models-explained-in-6-minutes-9fe30ff6776a" rel="noopener" target="_blank">here</a>.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm od"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*2NR51X0FDjLB13u4WdYc4g.png 640w, https://miro.medium.com/max/720/1*2NR51X0FDjLB13u4WdYc4g.png 720w, https://miro.medium.com/max/750/1*2NR51X0FDjLB13u4WdYc4g.png 750w, https://miro.medium.com/max/786/1*2NR51X0FDjLB13u4WdYc4g.png 786w, https://miro.medium.com/max/828/1*2NR51X0FDjLB13u4WdYc4g.png 828w, https://miro.medium.com/max/1100/1*2NR51X0FDjLB13u4WdYc4g.png 1100w, https://miro.medium.com/max/1400/1*2NR51X0FDjLB13u4WdYc4g.png 1400w"/><img alt="" class="ce lg lh c" height="437" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">ML model choice flowchart (source: <a class="au ll" href="https://scikit-learn.org/stable/tutorial/machine_learning_map/index.html" rel="noopener ugc nofollow" target="_blank">Scikit-Learn</a>)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="f68f">The lack of labels in our data requires that we use an unsupervised method, specifically a <a class="au ll" href="https://scikit-learn.org/stable/modules/clustering.html" rel="noopener ugc nofollow" target="_blank">clustering-based approach</a>. Because we are predicting a label for a known number of categories, we use <a class="au ll" href="https://aihub.cloud.google.com/p/products%2F0e0d2ed0-5563-4639-b348-53a83ac4ff4e" rel="noopener ugc nofollow" target="_blank">KMeans</a>. We’ll run KMeans where K=2, normal and anomaly. Below is a visual depiction of how KMeans groups raw data into known clusters.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm oe"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*UC5ZzsO2mJj2fVwNEInFZQ.png 640w, https://miro.medium.com/max/720/1*UC5ZzsO2mJj2fVwNEInFZQ.png 720w, https://miro.medium.com/max/750/1*UC5ZzsO2mJj2fVwNEInFZQ.png 750w, https://miro.medium.com/max/786/1*UC5ZzsO2mJj2fVwNEInFZQ.png 786w, https://miro.medium.com/max/828/1*UC5ZzsO2mJj2fVwNEInFZQ.png 828w, https://miro.medium.com/max/1100/1*UC5ZzsO2mJj2fVwNEInFZQ.png 1100w, https://miro.medium.com/max/1400/1*UC5ZzsO2mJj2fVwNEInFZQ.png 1400w"/><img alt="" class="ce lg lh c" height="234" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">KMeans explained (Source: <a class="au ll" href="https://aihub.cloud.google.com/p/products%2F0e0d2ed0-5563-4639-b348-53a83ac4ff4e" rel="noopener ugc nofollow" target="_blank">Google AIHub</a>)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="d552">To make the model more sophisticated, we could make use of the time-series aspect and use an <a class="au ll" href="https://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average" rel="noopener ugc nofollow" target="_blank">ARIMA</a> (Auto Regressive Integrated Moving Average) model or a RNN (recurrent neural network). However, we will start out with KMeans because of its ease of implementation in order to quickly build a base model. We can change to an ARIMA model later if we need additional performance or functionality.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="215f"><strong class="lv jh">Create Metrics: </strong>Metrics help us track product progress and compare different implementations. To judge our model, we’ll consider metrics for training performance, model performance and business performance. While we might look at training and model metrics early on to guide training, we ultimately live or die by business performance. Our product goal should be judged by end to end performance of business metrics.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="e379"><em class="oa">Training performance</em> is measured by the optimization metrics as part of the ML process. There are many in use depending on the model choice. For supervised methods, people typically use confusion matrices, ROC curves, or Calibration curves (more on those <a class="au ll" href="/20-popular-machine-learning-metrics-part-1-classification-regression-evaluation-metrics-1ca3e282a2ce" rel="noopener" target="_blank">here</a>). Because we’re using an <a class="au ll" href="https://scikit-learn.org/stable/modules/clustering.html#clustering-performance-evaluation" rel="noopener ugc nofollow" target="_blank">unsupervised approach</a> we’ll use the silhouette coefficient. This is one of the only <a class="au ll" href="https://scikit-learn.org/stable/modules/clustering.html#clustering-performance-evaluation" rel="noopener ugc nofollow" target="_blank">clustering metrics</a> we can use as it does not require labels in the training data. The <a class="au ll" href="https://scikit-learn.org/stable/modules/clustering.html#silhouette-coefficient" rel="noopener ugc nofollow" target="_blank">silhouette coefficient score</a> relates to a model with better defined clusters (anomalous and normal).</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="5e0d"><em class="oa">Model performance</em> are the metrics that evaluate the effectiveness of the ML approach. For many products, this means the percent of users who use the model versus the total number of users who could benefit from it. Because our product is an alerting system, model performance is ultimately tied to our ability to detect all anomalies. This ensures our customers (app owners) won’t get blindsided by missed errors. In ML terms, we are optimizing for <a class="au ll" href="/accuracy-precision-recall-or-f1-331fb37c5cb9" rel="noopener" target="_blank">recall</a>, or the percent of anomalies caught.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="bb61">We’ll need some form of user feedback to understand our model’s performance in production. This typically looks like a data collection mechanism in our frontend. User feedback could be as obtrusive as a thumbs up/down the user selects when viewing the predicted anomalies, or as frictionless as us intuiting the label based on actions taken on the frontend.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="eb08">Implicitly assigning a label based on user interaction is called weak labeling. The bulk collection of these weak labels could ultimately let us use a more powerful supervised learning method instead. Every data-driven application must consider collecting user feedback as a top priority.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="bd8a"><em class="oa">Business performance</em> metrics reflect the model’s success against the product goals. We can create <a class="au ll" href="/measuring-success-ef3aff9c28e4" rel="noopener" target="_blank">guardrail metrics</a> too, ones that shouldn’t decline below a certain point.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="a648">Because we’re training our model to not miss any critical errors, we’ll likely present the user with an overwhelming number of alerts. This <a class="au ll" href="https://en.wikipedia.org/wiki/Alarm_fatigue" rel="noopener ugc nofollow" target="_blank">alert fatigue</a> might make our model less useful in production because users will stop paying attention. To ensure that customers don’t start ignoring us, we ultimately care about the percent of relevant alerts. An implicit way of judging this is the percent of alerts presented that are acted on. In ML terms, this is called <a class="au ll" href="/beyond-accuracy-precision-and-recall-3da06bea9f6c" rel="noopener" target="_blank">precision</a>. When coupled with recall as a guardrail metric, to ensure that we’re not missing high importance anomalies, we have a robust system for understanding the performance of our data.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="e01a"><em class="oa">Other factors</em> to consider are speed and freshness. Speed is how long inference takes and freshness measures how well our training data compares to real-time data. Training data needs to be similar to input data for accuracy. When the distribution of live data shifts, the model needs to be retrained too.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="9400"><strong class="lv jh">Exploratory Data Analysis (EDA): </strong>Before we train a model, we need to have a good understanding of the underlying data. Using visualization tools like Google’s <a class="au ll" href="https://datastudio.google.com/" rel="noopener ugc nofollow" target="_blank">Data Studio</a> can help us test assumptions about values and distributions, identify key variables, and detect structure in the data. To dig in deeper, we can use a <a class="au ll" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank">Jupyter notebook</a> and <a class="au ll" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">pandas</a>, a python data analysis tool.</p><figure class="kx ky kz la gx lb"><div class="m fs l do"><div class="of og l"></div></div></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="7eff">Examining our data, we see that the maxes are much larger than the 75th percentile, indicating that it could be a meaningful dataset to use anomaly detection on — the anomalies should pop out.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="aa6a">Digging in deeper to the http request time, we see a primary left cluster that is normally distributed (log-normal in the graph), with a few points off to the right. This exploratory data analysis gives us further confidence in our KMeans approach. In fact, we could develop a simple heuristic, if the http request time is greater than 1.25 seconds, then it is anomalous.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm oh"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*pz61Dui59EPczGuYpEzpmQ.png 640w, https://miro.medium.com/max/720/1*pz61Dui59EPczGuYpEzpmQ.png 720w, https://miro.medium.com/max/750/1*pz61Dui59EPczGuYpEzpmQ.png 750w, https://miro.medium.com/max/786/1*pz61Dui59EPczGuYpEzpmQ.png 786w, https://miro.medium.com/max/828/1*pz61Dui59EPczGuYpEzpmQ.png 828w, https://miro.medium.com/max/1100/1*pz61Dui59EPczGuYpEzpmQ.png 1100w, https://miro.medium.com/max/1400/1*pz61Dui59EPczGuYpEzpmQ.png 1400w"/><img alt="" class="ce lg lh c" height="224" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Distribution of http response times (image by author)</figcaption></figure><h1 class="nd ne jg bm nf ng nh ni nj nk nl nm nn km no kn np kp nq kq nr ks ns kt nt nu ga" id="d884"><strong class="ba">2. Build the Pipeline</strong></h1><p class="pw-post-body-paragraph lt lu jg lv b lw nv kh ly lz nw kk mb mc nx me mf mg ny mi mj mk nz mm mn mo iz ga" id="beff">End to end pipelines allow for easy iteration. The faster our model fails, the faster we can make progress. Evaluating model performance quickly identifies the next area for improvement.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="06e0"><em class="oa">For technical information on deploying pipelines, refer to </em><a class="au ll" href="https://cloud.google.com/blog/products/data-analytics/anomaly-detection-using-streaming-analytics-and-ai" rel="noopener ugc nofollow" target="_blank"><em class="oa">various</em></a><em class="oa"> </em><a class="au ll" href="https://aws.amazon.com/sagemaker/pipelines/" rel="noopener ugc nofollow" target="_blank"><em class="oa">tutorials</em></a><em class="oa"> from Google Cloud Platform (GCP) or Amazon Web Services (AWS).</em></p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm oi"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 640w, https://miro.medium.com/max/720/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 720w, https://miro.medium.com/max/750/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 750w, https://miro.medium.com/max/786/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 786w, https://miro.medium.com/max/828/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 828w, https://miro.medium.com/max/1100/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 1100w, https://miro.medium.com/max/1400/1*P-7gUvRB6pa8i1HLCE8ulw.jpeg 1400w"/><img alt="" class="ce lg lh c" height="293" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">The training and inference pipelines (image by author)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="e78e">ML needs a training and inference pipeline. The training pipeline (discussed later) creates our model , and the inference pipeline makes the predictions.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="0d30"><strong class="lv jh">Build an Inference Pipeline: </strong>Start with deploying an inference pipeline. By quickly delivering a basic model, we can begin to collect usage data that enables further training and performance gains. This initial models is based on simple heuristics from subject matter expert (SME) knowledge.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="7a3a">Using a HTTP request time of 1250 ms as a threshold, let’s run our training data through this Running our training data through this basic model. Because of the spread in the data, we’ll plot the log of request time to make the results more consumable.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm oh"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*NUqXBoxnwSplSfJnumZTHQ.png 640w, https://miro.medium.com/max/720/1*NUqXBoxnwSplSfJnumZTHQ.png 720w, https://miro.medium.com/max/750/1*NUqXBoxnwSplSfJnumZTHQ.png 750w, https://miro.medium.com/max/786/1*NUqXBoxnwSplSfJnumZTHQ.png 786w, https://miro.medium.com/max/828/1*NUqXBoxnwSplSfJnumZTHQ.png 828w, https://miro.medium.com/max/1100/1*NUqXBoxnwSplSfJnumZTHQ.png 1100w, https://miro.medium.com/max/1400/1*NUqXBoxnwSplSfJnumZTHQ.png 1400w"/><img alt="" class="ce lg lh c" height="211" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Anomaly detection on training dataset using threshold (image by author)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="31f9"><strong class="lv jh">Test Workflows: </strong>After we can serve our simple model, let’s investigate our assumptions about the user experience and model results.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="ca4d">User experience is an important consideration because usability will drive usage of our model. Asking <em class="oa">what’s the best way to present our model? How can we ensure that results are presented usefully? What data would actually be helpful if returned?</em> forces us to consider our frontend design. Spamming users with about anomalies with no notion of causal context contributes to alert fatigue and instantly turns people away from our product. Instead, useful results contain data about significance of an anomaly and the specific factors that caused the anomalous classification.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="760e">Model results are a necessary consideration as well. Ask: <em class="oa">are we getting non-trivial results? Is the training data accurate and representative? How can we remove bias? </em>Initial runs show that the seriously bad anomalies get picked up, but much of the variation and nuance remains unexamined. Because there are many other metrics that comprise an anomalous classification (not just HTTP request time), we need to develop a better model that considers these features.</p><h1 class="nd ne jg bm nf ng nh ni nj nk nl nm nn km no kn np kp nq kq nr ks ns kt nt nu ga" id="48d4"><strong class="ba">3. Feature Engineering</strong></h1><p class="pw-post-body-paragraph lt lu jg lv b lw nv kh ly lz nw kk mb mc nx me mf mg ny mi mj mk nz mm mn mo iz ga" id="850d">Understanding your data will lead to the biggest performance gains. Be efficient in your exploration, starting small with a dataset that’s easy to work with. Looking at your dataset to learn about its features is the easiest way to develop a solid model and feature engineering pipeline. This typically consumes the majority of development time.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="b17d">Ensure that your data is formatted, with clear inputs and outputs that will be available at prediction time. Make sure that the data fields aren’t missing, corrupted, or imprecise by manually verifying labels or feature values. Examine the data quantity (to make sure you have at least 10k examples), generating synthetic data if needed. Look into clusters and summary statistics. Examining our training set, we can drop all examples without meaningful (empty or na) timing data.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="d3a1">Create features from patterns like seasonality, <a class="au ll" href="https://developers.google.com/machine-learning/crash-course/feature-crosses/video-lecture" rel="noopener ugc nofollow" target="_blank">feature crosses</a>, or other meaningful patterns you observe. We can vectorize to create new features from raw data and <a class="au ll" href="/a-complete-guide-to-principal-component-analysis-pca-in-machine-learning-664f34fc3e5a" rel="noopener" target="_blank">reduce the dimensionality</a> (representing vectors in fewer dimensions while preserving as much structure as possible). These features make it easier to detect non-linear relationships in neural networks. Make sure that the transformations and process for creating new features is saved, as it must run on input data at prediction time too, or the model will not function properly.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="8fdc">We’ll create features for every hour of the day and day of the week as well as a feature cross between the two. Further, we’ll create a new feature called ‘total’ that is the sum of tlsHandshakeMs, httpRequestTimeMs, and the rest of the other timing metrics.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="b968">Creating additional models can aid the training process. An ‘<a class="au ll" href="/how-to-do-error-analysis-to-make-all-of-your-models-better-a13c4ca643a" rel="noopener" target="_blank">error model</a>’ can be trained to detect what types of examples your model fails on. A ‘labeling model’ can be used to find the best examples to label next if you’re working with a supervised training model. This model detects labeled versus unlabeled examples, allowing you to label those unlabeled examples most different from the labeled examples. Because we’re sticking with a simple, unsupervised approach, we can ignore creating these models for now.</p><h1 class="nd ne jg bm nf ng nh ni nj nk nl nm nn km no kn np kp nq kq nr ks ns kt nt nu ga" id="7036"><strong class="ba">4. Train your Model</strong></h1><p class="pw-post-body-paragraph lt lu jg lv b lw nv kh ly lz nw kk mb mc nx me mf mg ny mi mj mk nz mm mn mo iz ga" id="0dc5">Now that we have our engineered features, we can train our model by splitting our data, judging prediction performance, and evaluating feature performance.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="e483"><strong class="lv jh">Split Data: </strong>To ensure we can validate the results of the trained model, we need to set aside data. Specifically, 70% of our data is used in training, 20% in validation, and 10% for testing. The training data optimizes the weights of the model, the validation set <a class="au ll" href="/hyperparameter-tuning-c5619e7e6624" rel="noopener" target="_blank">tunes the hyperparameters</a> (network depth, number of filters per layer, and weight decay), and the test set is how we can evaluate the model.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="ba21">Make sure that validation and test datasets are as close to production as possible to prevent <a class="au ll" href="/data-leakage-in-machine-learning-10bdd3eec742" rel="noopener" target="_blank">data leakage</a> (future data used as a training feature, duplicates between sets means outsized performance from overfitting). Ensure that the data is <a class="au ll" href="/data-splitting-technique-to-fit-any-machine-learning-model-c0d7f3f1c790" rel="noopener" target="_blank">split</a> properly.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="8a9f"><strong class="lv jh">Debug: </strong>Abnormally high performance typically indicates data leakage or bugs. Google has <a class="au ll" href="https://static.googleusercontent.com/media/research.google.com/en/pubs/archive/aad9f93b86b7addfea4c419b9100c6cdd26cacea.pdf" rel="noopener ugc nofollow" target="_blank">written extensively</a> on potential tests for a ML system. To debug a model,</p><ol class=""><li class="mp mq jg lv b lw lx lz ma mc mr mg ms mk mt mo mu mv mw mx ga" id="887b">First, ensure the model is wired properly so that the data flows through from input to prediction</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo mu mv mw mx ga" id="804f">Next, make sure that the model can fit the training data</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo mu mv mw mx ga" id="078d">Finally, check if the model can fit unseen data, assuming it’s within a reasonable range</li></ol><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="4504"><strong class="lv jh">Judge Performance: </strong>Choose an appropriate cost function to optimize your model. Examining your cost function on test and training data helps estimate the <a class="au ll" href="/understanding-the-bias-variance-tradeoff-165e6942b229" rel="noopener" target="_blank">bias-variance trade-off</a> in the model, the degree to which our model has learned valuable generalized information without just memorizing specific details of the training set. Specifically, examine:</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm oj"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*QcGGowH_7f086rLnXzxz9w.jpeg 640w, https://miro.medium.com/max/720/1*QcGGowH_7f086rLnXzxz9w.jpeg 720w, https://miro.medium.com/max/750/1*QcGGowH_7f086rLnXzxz9w.jpeg 750w, https://miro.medium.com/max/786/1*QcGGowH_7f086rLnXzxz9w.jpeg 786w, https://miro.medium.com/max/828/1*QcGGowH_7f086rLnXzxz9w.jpeg 828w, https://miro.medium.com/max/1100/1*QcGGowH_7f086rLnXzxz9w.jpeg 1100w, https://miro.medium.com/max/1400/1*QcGGowH_7f086rLnXzxz9w.jpeg 1400w"/><img alt="" class="ce lg lh c" height="650" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Confusion Matrix for our anomaly detection use case (image by author)</figcaption></figure><ul class=""><li class="mp mq jg lv b lw lx lz ma mc mr mg ms mk mt mo ok mv mw mx ga" id="d7e4"><a class="au ll" href="/understanding-confusion-matrix-a9ad42dcfd62" rel="noopener" target="_blank">Confusion Matrix</a>: performance measurement for machine learning classification problem where output can be two or more classes. It is a table with 4 different combinations of predicted and actual values</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo ok mv mw mx ga" id="e660"><a class="au ll" href="/understanding-auc-roc-curve-68b2303cc9c5" rel="noopener" target="_blank">ROC Curves</a>: shows how capable a model is of distinguishing between classes. Product Managers benefit from adding vertical or horizontal lines that correspond to allowed false positive (FP) or false negative (FN) rates based on product requirements</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo ok mv mw mx ga" id="862c">Calibration Curves: fraction of TP relative to confidence level</li></ul><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="9001"><strong class="lv jh">Evaluate Features: </strong>Inspect which features aid classifications, by examining the classifier. If using a neural net, use black-box explainers such as <a class="au ll" href="/understanding-model-predictions-with-lime-a582fdff3a3b" rel="noopener" target="_blank">LIME</a> or <a class="au ll" href="/explain-any-models-with-the-shap-values-use-the-kernelexplainer-79de9464897a" rel="noopener" target="_blank">SHAP</a>.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="7ef3">Because we’re using unsupervised methods, we can ignore all of this. As our data doesn’t contain labels, we can’t actually validate a model with these methods. Therefore, we send all data into training. Instead, we can use the <a class="au ll" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.silhouette_score.html" rel="noopener ugc nofollow" target="_blank">silhouette score</a> to check our output. On our KMeans model, this metric returns a 0.802 (where 1 is best and -1 is worst). Visualizing the classified labels shows that this unsupervised approach turned out reasonable results.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm ol"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*IxkoAyKEOsVxsEpPV8P-zA.png 640w, https://miro.medium.com/max/720/1*IxkoAyKEOsVxsEpPV8P-zA.png 720w, https://miro.medium.com/max/750/1*IxkoAyKEOsVxsEpPV8P-zA.png 750w, https://miro.medium.com/max/786/1*IxkoAyKEOsVxsEpPV8P-zA.png 786w, https://miro.medium.com/max/828/1*IxkoAyKEOsVxsEpPV8P-zA.png 828w, https://miro.medium.com/max/1100/1*IxkoAyKEOsVxsEpPV8P-zA.png 1100w, https://miro.medium.com/max/1400/1*IxkoAyKEOsVxsEpPV8P-zA.png 1400w"/><img alt="" class="ce lg lh c" height="226" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Anomaly detection on training dataset using KMeans (image by author)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="c153">The benefits of the simple model are made clear in our latency metrics. On a machine with 4 vCPUs and 15 GB of RAM, training took an average of .516 seconds. Inference for all the training data took .004 seconds. That’s well below any reasonable human reaction time.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="f6fe">However, our model is creating a lot of alerts. This underscores the necessity of collecting user feedback. If we had data on which anomalies were helpful, we could further tune our model with supervised methods toward only providing actionable alerts — the ones our users actually want.</p><h1 class="nd ne jg bm nf ng nh ni nj nk nl nm nn km no kn np kp nq kq nr ks ns kt nt nu ga" id="1080"><strong class="ba">5. Deploy</strong></h1><p class="pw-post-body-paragraph lt lu jg lv b lw nv kh ly lz nw kk mb mc nx me mf mg ny mi mj mk nz mm mn mo iz ga" id="ade2">Now that the model’s trained, we perform a final validation, build a production environment, and start monitoring. Here’s a high-level look at the necessary components.</p><figure class="kx ky kz la gx lb gl gm paragraph-image"><div class="lc ld do le ce lf" role="button" tabindex="0"><div class="gl gm om"><picture><source data-testid="og" sizes="(min-resolution: 4dppx) and (max-width: 700px) 50vw, (-webkit-min-device-pixel-ratio: 4) and (max-width: 700px) 50vw, (min-resolution: 3dppx) and (max-width: 700px) 67vw, (-webkit-min-device-pixel-ratio: 3) and (max-width: 700px) 65vw, (min-resolution: 2.5dppx) and (max-width: 700px) 80vw, (-webkit-min-device-pixel-ratio: 2.5) and (max-width: 700px) 80vw, (min-resolution: 2dppx) and (max-width: 700px) 100vw, (-webkit-min-device-pixel-ratio: 2) and (max-width: 700px) 100vw, 700px" srcset="https://miro.medium.com/max/640/1*jhqr8HSEpwGopwrHrgrykA.jpeg 640w, https://miro.medium.com/max/720/1*jhqr8HSEpwGopwrHrgrykA.jpeg 720w, https://miro.medium.com/max/750/1*jhqr8HSEpwGopwrHrgrykA.jpeg 750w, https://miro.medium.com/max/786/1*jhqr8HSEpwGopwrHrgrykA.jpeg 786w, https://miro.medium.com/max/828/1*jhqr8HSEpwGopwrHrgrykA.jpeg 828w, https://miro.medium.com/max/1100/1*jhqr8HSEpwGopwrHrgrykA.jpeg 1100w, https://miro.medium.com/max/1400/1*jhqr8HSEpwGopwrHrgrykA.jpeg 1400w"/><img alt="" class="ce lg lh c" height="581" loading="lazy" role="presentation" width="700"/></picture></div></div><figcaption class="li bl gn gl gm lj lk bm b bn bo cn">Components of a ML production environment (image by author)</figcaption></figure><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="a0b2"><em class="oa">Final validation</em> is the last sanity check before moving a model to production. Ask: <em class="oa">What assumptions is your model making from the training data? How was the training data collection? Does that differ meaningfully from production data? Is the dataset representative enough to produce a useful model?</em></p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="8b69">It also requires considering the intended use and scope. Confirm the data used is authorized for collection, usage, and storage. Remove training bias by ensuring no measurement errors, corrupted data, and proper representation of all feature classes. Eliminate systematic bias and modeling concerns by employing feedback loops, and benchmarking on all subsets of training data. Defend against adversaries by deploying monitoring systems that detect shifts in usage activity.</p><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="02f9"><em class="oa">Build a production environment </em>that is reliable to properly run your model, by engineering for:</p><ul class=""><li class="mp mq jg lv b lw lx lz ma mc mr mg ms mk mt mo ok mv mw mx ga" id="e951"><strong class="lv jh">Failures</strong> (I/O checks): Sanitize input data by ensuring it falls within the range and distribution of training data. Create a second ‘failure detection model’ that predicts most likely failed inputs or a ‘filtering model’ that pre-screens inferences. If these models indicate a potentially dubious result, fallback on a simple model or heuristic that provides a plausible output.</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo ok mv mw mx ga" id="c1ed"><strong class="lv jh">Performance</strong>: Speed up performance with caching if applicable (a least recently used or LRU cache is commonly used when dealing with repeated inputs). Make sure to manage model and data lifecycle management (when to retrain the model based on indications of drift), reproducibility, resilience, and pipeline flexibility.</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo ok mv mw mx ga" id="3980"><strong class="lv jh">Feedback: </strong>Gathering implicit feedback is crucial for judging performance. Consider looking at actions users perform to infer whether a model provided useful results.</li><li class="mp mq jg lv b lw my lz mz mc na mg nb mk nc mo ok mv mw mx ga" id="e1c9"><strong class="lv jh">CICD: </strong>To implement CICD for machine learning, consider deploying in shadow mode (in parallel to existing model, checking results against production model). Either can use A/B testing or <a class="au ll" href="https://en.wikipedia.org/wiki/Multi-armed_bandit" rel="noopener ugc nofollow" target="_blank">multi-armed bandit</a> (explore/exploit for multiple models in production).</li></ul><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="c0c2"><em class="oa">Monitor models </em>to inform resilience of production environment. Specifically, look at the accuracy and usage over time. Accuracy over time to informs the refresh rate, or when the model is retrained. Most models need to be updated regularly to maintain a level of performance. Monitoring can detect when a model is no longer fresh and needs to be retrained. Usage can show patterns of abuse (for example, an anomalous number of logins). Similarly, monitor the metrics outlined previously for performance and business metrics.</p></div><div class="o dx lm ln ii lo" role="separator"><span class="lp fl ci lq lr ls"></span><span class="lp fl ci lq lr ls"></span><span class="lp fl ci lq lr"></span></div><div class="iz ja jb jc jd"><p class="pw-post-body-paragraph lt lu jg lv b lw lx kh ly lz ma kk mb mc md me mf mg mh mi mj mk ml mm mn mo iz ga" id="b5a9">So, when are you going to ship your next big thing?</p></div></div></section></div></div></article>